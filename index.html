<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Essence Decants | Comprar Decants de Perfumes de Lujo en Espa√±a | Fragancias Nicho desde 5,99‚Ç¨</title>

    <!-- Primary SEO Meta Tags -->
    <meta name="description"
        content="üèÜ Tienda #1 de decants de perfumes de lujo en Espa√±a. Prueba Amouage, Creed, MFK, Xerjoff, Tom Ford desde 5,99‚Ç¨. M√°s de 100 fragancias nicho en formato 3ml, 5ml y 10ml. ‚úì Env√≠o 24-48h ‚úì Productos 100% originales">
    <meta name="keywords"
        content="decants perfume espa√±a, comprar decants online, perfumes nicho, fragancias de lujo, muestras perfume originales, decant Amouage, decant Creed Aventus, decant MFK Baccarat, decant Xerjoff, decant Tom Ford, perfumes exclusivos madrid, fragancias exclusivas barcelona, essence decants, perfumichi, mejores decants espa√±a, donde comprar decants, decants baratos, perfumes de autor">
    <meta name="author" content="Essence Decants">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    <meta name="bingbot" content="index, follow">
    <link rel="canonical" href="https://essencedecants.com/">

    <!-- Hreflang for Language/Region -->
    <link rel="alternate" hreflang="es" href="https://essencedecants.com/">
    <link rel="alternate" hreflang="es-ES" href="https://essencedecants.com/">
    <link rel="alternate" hreflang="x-default" href="https://essencedecants.com/">

    <!-- Favicon & App Icons -->
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon.png">
    <link rel="apple-touch-icon" href="favicon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon.png">
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-title" content="Essence Decants">
    <meta name="application-name" content="Essence Decants">

    <!-- Open Graph / Facebook (Enhanced) -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://essencedecants.com/">
    <meta property="og:title" content="Essence Decants | Decants de Perfumes de Lujo desde 5,99‚Ç¨">
    <meta property="og:description"
        content="üèÜ La mejor tienda de decants en Espa√±a. +100 fragancias nicho. Amouage, Creed, MFK, Xerjoff. Env√≠o 24-48h. Prueba antes de comprar.">
    <meta property="og:image" content="https://essencedecants.com/logo.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Essence Decants - Decants de Perfumes de Lujo">
    <meta property="og:locale" content="es_ES">
    <meta property="og:site_name" content="Essence Decants">

    <!-- Twitter Card (Enhanced) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://essencedecants.com/">
    <meta name="twitter:title" content="Essence Decants | Decants Perfumes Lujo Espa√±a">
    <meta name="twitter:description"
        content="Prueba los mejores perfumes del mundo desde 5,99‚Ç¨. Amouage, Creed, MFK, Xerjoff. Env√≠o r√°pido toda Espa√±a.">
    <meta name="twitter:image" content="https://essencedecants.com/logo.png">
    <meta name="twitter:image:alt" content="Essence Decants Logo">
    <meta name="twitter:creator" content="@essencedecants">

    <!-- Additional SEO & Mobile Tags -->
    <meta name="theme-color" content="#000000">
    <meta name="msapplication-TileColor" content="#D4AF37">
    <meta name="msapplication-TileImage" content="favicon.png">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- Geo Tags for Local SEO (Enhanced) -->
    <meta name="geo.region" content="ES">
    <meta name="geo.placename" content="Espa√±a">
    <meta name="geo.position" content="40.416775;-3.703790">
    <meta name="ICBM" content="40.416775, -3.703790">
    <meta name="language" content="Spanish">
    <meta name="content-language" content="es">

    <!-- Verification Tags (placeholders - add your actual codes) -->
    <!-- <meta name="google-site-verification" content="YOUR_CODE_HERE"> -->
    <!-- <meta name="msvalidate.01" content="YOUR_BING_CODE"> -->
    <!-- <meta name="p:domain_verify" content="YOUR_PINTEREST_CODE"> -->

    <!-- Structured Data - Organization (Enhanced) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "@id": "https://essencedecants.com/#organization",
        "name": "Essence Decants",
        "alternateName": ["Perfumichi", "Essence Decants Espa√±a"],
        "url": "https://essencedecants.com",
        "logo": {
            "@type": "ImageObject",
            "url": "https://essencedecants.com/logo.png",
            "width": 600,
            "height": 600
        },
        "image": "https://essencedecants.com/logo.png",
        "description": "Tienda especializada en decants de perfumes de lujo y fragancias nicho en Espa√±a. M√°s de 100 fragancias exclusivas.",
        "foundingDate": "2024",
        "slogan": "Prueba el lujo antes de comprarlo",
        "sameAs": [
            "https://instagram.com/essencedecants",
            "https://www.facebook.com/essencedecants",
            "https://twitter.com/essencedecants"
        ],
        "contactPoint": [{
            "@type": "ContactPoint",
            "contactType": "customer service",
            "availableLanguage": ["Spanish", "English"],
            "areaServed": "ES"
        }],
        "areaServed": {
            "@type": "Country",
            "name": "Espa√±a"
        }
    }
    </script>

    <!-- Structured Data - WebSite with SearchAction -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "@id": "https://essencedecants.com/#website",
        "name": "Essence Decants",
        "url": "https://essencedecants.com",
        "description": "Tienda online de decants de perfumes de lujo y fragancias nicho en Espa√±a",
        "inLanguage": "es-ES",
        "potentialAction": {
            "@type": "SearchAction",
            "target": {
                "@type": "EntryPoint",
                "urlTemplate": "https://essencedecants.com/catalogo.html?search={search_term_string}"
            },
            "query-input": "required name=search_term_string"
        },
        "publisher": {
            "@id": "https://essencedecants.com/#organization"
        }
    }
    </script>

    <!-- Structured Data - Online Store -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "OnlineStore",
        "@id": "https://essencedecants.com/#store",
        "name": "Essence Decants",
        "description": "Tienda online de decants de perfumes de lujo y fragancias nicho",
        "url": "https://essencedecants.com",
        "priceRange": "‚Ç¨‚Ç¨",
        "image": "https://essencedecants.com/logo.png",
        "currenciesAccepted": "EUR",
        "paymentAccepted": ["Credit Card", "PayPal", "Bizum"],
        "areaServed": {
            "@type": "Country",
            "name": "Espa√±a"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "reviewCount": "127",
            "bestRating": "5",
            "worstRating": "1"
        },
        "hasOfferCatalog": {
            "@type": "OfferCatalog",
            "name": "Cat√°logo de Decants",
            "itemListElement": [
                {
                    "@type": "OfferCatalog",
                    "name": "Decants Orientales",
                    "description": "Fragancias c√°lidas y especiadas"
                },
                {
                    "@type": "OfferCatalog", 
                    "name": "Decants Amaderados",
                    "description": "Fragancias con notas de madera"
                },
                {
                    "@type": "OfferCatalog",
                    "name": "Decants Florales",
                    "description": "Fragancias frescas y florales"
                }
            ]
        }
    }
    </script>

    <!-- Structured Data - FAQ (Helps with featured snippets) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "¬øQu√© es un decant de perfume?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Un decant es una peque√±a porci√≥n de un perfume original transferida a un atomizador m√°s peque√±o, generalmente de 3ml, 5ml o 10ml. Es la forma perfecta de probar fragancias de lujo antes de comprar el frasco completo."
                }
            },
            {
                "@type": "Question",
                "name": "¬øLos decants son perfumes originales?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "S√≠, todos nuestros decants provienen de frascos 100% originales. Decantamos directamente de las botellas aut√©nticas de marcas como Amouage, Creed, MFK, Xerjoff, Tom Ford y m√°s."
                }
            },
            {
                "@type": "Question",
                "name": "¬øCu√°nto cuesta un decant de perfume de lujo?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Nuestros decants empiezan desde 5,99‚Ç¨ para formatos de 3ml. Esto te permite probar perfumes que cuestan m√°s de 300‚Ç¨ el frasco completo por una fracci√≥n del precio."
                }
            },
            {
                "@type": "Question",
                "name": "¬øCu√°nto dura un decant de 3ml?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Un decant de 3ml contiene aproximadamente 30-40 aplicaciones, lo que puede durar entre 2-4 semanas con uso diario moderado."
                }
            },
            {
                "@type": "Question",
                "name": "¬øHac√©is env√≠os a toda Espa√±a?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "S√≠, enviamos a toda Espa√±a peninsular, Islas Baleares y Canarias. Los pedidos se preparan en 24-48h y el env√≠o est√°ndar tarda 3-5 d√≠as h√°biles."
                }
            }
        ]
    }
    </script>

    <!-- Structured Data - BreadcrumbList -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [{
            "@type": "ListItem",
            "position": 1,
            "name": "Inicio",
            "item": "https://essencedecants.com/"
        }]
    }
    </script>

    <!-- Structured Data - SiteNavigationElement -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SiteNavigationElement",
        "name": ["Inicio", "Cat√°logo", "Luxury Parfums", "Woman", "Pol√≠ticas"],
        "url": [
            "https://essencedecants.com/",
            "https://essencedecants.com/catalogo.html",
            "https://essencedecants.com/nicho.html",
            "https://essencedecants.com/woman.html",
            "https://essencedecants.com/politicas.html"
        ]
    }
    </script>

    <!-- DNS Prefetch & Preconnect for Performance -->
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//www.google-analytics.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>

    <!-- Preload Critical Images -->
    <link rel="preload" href="perfume.png" as="image">
    <link rel="preload" href="logo.png" as="image">
    <link rel="preload" href="decants.jpg" as="image">

    <style>
        /* Performance optimizations */
        * {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Smooth image loading */
        img {
            opacity: 1;
            transition: opacity 0.3s ease-in-out;
        }

        img[loading="lazy"] {
            opacity: 0;
        }

        img.loaded,
        img[loading="lazy"].loaded {
            opacity: 1;
        }

        /* GPU acceleration for animated elements */
        #hero-image,
        #decants-image,
        .product-card,
        .carousel-item {
            will-change: transform, opacity;
            transform: translateZ(0);
            backface-visibility: hidden;
        }

        /* Prevent layout shift */
        .product-card img {
            aspect-ratio: 1 / 1;
            object-fit: cover;
            background-color: #111;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #000000;
            color: #ffffff;
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            overflow-x: hidden;
        }

        /* Lenis Recommended CSS */
        html.lenis {
            height: auto;
        }

        .lenis.lenis-smooth {
            scroll-behavior: auto;
        }

        .lenis.lenis-smooth [data-lenis-prevent] {
            overscroll-behavior: contain;
        }

        .lenis.lenis-stopped {
            overflow: hidden;
        }

        .lenis.lenis-scrolling iframe {
            pointer-events: none;
        }

        /* 2D Image Styling */
        #hero-image {
            position: fixed;
            top: 50%;
            left: 50%;
            /* GSAP will handle transform for cross-browser consistency */
            height: 65vh;
            width: auto;
            z-index: 1;
            pointer-events: none;
            object-fit: contain;
            -webkit-mask-image: radial-gradient(circle at center, black 50%, transparent 100%);
            mask-image: radial-gradient(circle at center, black 50%, transparent 100%);
        }

        /* Second Image (Decants) Styling */
        #decants-image {
            position: fixed;
            top: 50%;
            right: 0%;
            /* GSAP will handle transform */
            height: 65vh;
            width: auto;
            z-index: 1;
            pointer-events: none;
            object-fit: contain;
            opacity: 0;
            -webkit-mask-image: radial-gradient(circle at center, black 40%, transparent 85%);
            mask-image: radial-gradient(circle at center, black 40%, transparent 85%);
        }

        section {
            height: 100vh;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            box-sizing: border-box;
            padding: 2rem;
            z-index: 2;
            /* Ensure content sits on top of images */
        }

        h1 {
            font-size: 2.2rem;
            /* Reduced to fit longer text */
            font-weight: 300;
            /* Reverted to Light */
            letter-spacing: 0.4em;
            /* Increased spacing (was 0.2em) */
            text-transform: uppercase;
            margin: 0;
            text-align: center;
            line-height: 1.4;
            max-width: 90%;
            /* Increased width to accommodate spacing */
            /* Text Shadow for readability */
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
        }

        h2 {
            font-size: 3rem;
            font-weight: 300;
            /* Reverted to Light */
            letter-spacing: 0.15em;
            /* Slightly increased */
            margin-bottom: 1rem;
            /* Text Shadow for readability */
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
        }

        p {
            font-size: 1.2rem;
            line-height: 1.6;
            max-width: 500px;
            color: #cccccc;
            /* Text Shadow for readability */
            text-shadow: 0 1px 5px rgba(0, 0, 0, 0.8);
        }

        .content-right {
            margin-left: auto;
            margin-right: 5%;
            width: 45%;
            /* Constrain width to ensure it stays on the right */
            text-align: center;
            /* Center text within the container */
            display: flex;
            flex-direction: column;
            align-items: center;
            /* Center items within the container */
            justify-content: center;
        }

        .content-left {
            margin-right: auto;
            margin-left: 10%;
            text-align: left;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .content-center {
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* Subtle dark background to improve contrast */
            background: radial-gradient(circle, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0) 70%);
            padding: 2rem;
            border-radius: 50%;
        }

        .btn {
            display: inline-block;
            margin-top: 2rem;
            padding: 1rem 3rem;
            border: 1px solid #D4AF37;
            /* Gold Border */
            color: #D4AF37;
            /* Gold Text */
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background-color: #D4AF37;
            /* Gold Background */
            color: #000000;
            /* Black Text */
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.4);
            /* Gold Glow */
        }

        /* Section specific adjustments */
        #section-1 {
            justify-content: center;
        }

        #section-2 {
            justify-content: flex-end;
        }

        #section-3 {
            justify-content: flex-start;
            /* Align content to start (left) */
        }

        #section-4 {
            justify-content: center;
            text-align: center;
        }

        .big-cta-btn {
            font-size: 1.2rem;
            /* Reduced from 2rem */
            padding: 1rem 2.5rem;
            /* Reduced from 1.5rem 4rem */
            border: 2px solid #D4AF37;
            /* Gold Border */
            background-color: transparent;
            color: #D4AF37;
            /* Gold Text */
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            /* Slightly reduced spacing */
            transition: all 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        .big-cta-btn:hover {
            background-color: #D4AF37;
            /* Gold Background */
            color: #000000;
            /* Black Text */
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.6);
            /* Stronger Gold Glow */
        }

        /* Header Styling */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 2rem 4rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            box-sizing: border-box;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.95) 0%, rgba(0, 0, 0, 0.8) 70%, transparent 100%);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            transition: transform 0.3s ease-in-out;
        }

        header.header-hidden {
            transform: translateY(-100%);
        }

        .logo-img {
            height: 60px;
            /* Adjust height as needed */
            width: auto;
            object-fit: contain;
            /* Optional: Drop shadow for better visibility if needed */
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
        }

        nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            gap: 2rem;
        }

        nav a {
            color: #ffffff;
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            font-size: 0.9rem;
            transition: color 0.3s, opacity 0.3s;
            opacity: 0.8;
        }

        nav a:hover {
            opacity: 1;
            color: #D4AF37;
            /* Gold accent on hover */
        }

        /* Mobile Menu Styles */
        .hamburger {
            display: none;
            cursor: pointer;
            z-index: 102;
        }

        .hamburger span {
            display: block;
            width: 30px;
            height: 2px;
            background-color: #D4AF37;
            margin: 6px 0;
            transition: 0.4s;
        }

        /* Best Sellers Section */
        #best-sellers {
            height: auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #000000;
            padding: 4rem 2rem;
            position: relative;
            z-index: 2;
            scroll-snap-align: start;
        }

        #best-sellers h2 {
            margin-bottom: 3rem;
            color: #ffffff;
            font-size: 2.5rem;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            font-weight: 300;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2rem;
            width: 100%;
            max-width: 1200px;
        }

        .product-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            /* Rounded corners */
            transition: transform 0.3s ease, border-color 0.3s ease;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-10px);
            border-color: #D4AF37;
        }

        .product-image-placeholder {
            width: 100%;
            aspect-ratio: 3/4;
            background-color: #1a1a1a;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #555;
            font-size: 0.8rem;
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            /* Slightly smaller radius for inner element */
        }

        .product-image {
            width: 100%;
            height: auto;
            aspect-ratio: 3/4;
            object-fit: cover;
            margin-bottom: 1rem;
            border-radius: 8px;
            /* Match placeholder radius */
        }

        .product-title {
            font-size: 1rem;
            font-weight: 400;
            margin: 0.5rem 0;
            letter-spacing: 0.05em;
            color: #ffffff;
            text-transform: uppercase;
        }

        .product-price {
            font-size: 1.1rem;
            color: #D4AF37;
            font-weight: 600;
            margin-top: auto;
        }

        /* Mobile Section Images - Hidden on desktop */
        .mobile-section-image {
            display: none;
        }

        /* Mobile Hero Container - Hidden on desktop */
        .mobile-hero-container {
            display: none;
        }

        /* Mobile Section 2 Container - Hidden on desktop */
        .mobile-section2-container {
            display: none;
        }

        /* Mobile Section 3 Container - Hidden on desktop */
        .mobile-section3-container {
            display: none;
        }

        /* Flying Perfume Element - Hidden on desktop */
        .flying-perfume-element {
            display: none;
        }

        /* ===== CART DRAWER STYLES ===== */
        .cart-overlay-bg {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1999;
            backdrop-filter: blur(2px);
        }

        .cart-overlay-bg.active {
            display: block;
        }

        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -400px;
            width: 100%;
            max-width: 400px;
            height: 100vh;
            background-color: #111;
            border-left: 1px solid #333;
            z-index: 2000;
            transition: right 0.4s ease-in-out;
            display: flex;
            flex-direction: column;
            box-shadow: -5px 0 30px rgba(0, 0, 0, 0.5);
        }

        .cart-sidebar.active {
            right: 0;
        }

        .cart-header {
            padding: 1.5rem;
            border-bottom: 1px solid #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-header h2 {
            margin: 0;
            color: #D4AF37;
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .close-cart {
            color: #fff;
            font-size: 2rem;
            cursor: pointer;
            line-height: 1;
        }

        .close-cart:hover {
            color: #D4AF37;
        }

        .cart-items {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
        }

        .empty-cart-msg {
            color: #888;
            text-align: center;
            margin-top: 2rem;
        }

        /* Cart Item Styles */
        .cart-item {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #222;
            position: relative;
        }

        .cart-item-img {
            width: 70px;
            height: 70px;
            min-width: 70px;
            background-color: #1a1a1a;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px solid #333;
            border-radius: 4px;
            overflow: hidden;
        }

        .cart-item-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .cart-item-details {
            flex: 1;
            min-width: 0;
        }

        .cart-item-title {
            color: #fff;
            font-size: 0.95rem;
            font-weight: 500;
            margin-bottom: 0.3rem;
            padding-right: 1.5rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .cart-item-variant {
            color: #888;
            font-size: 0.8rem;
            margin-bottom: 0.3rem;
        }

        .cart-item-price {
            color: #D4AF37;
            font-size: 0.95rem;
            font-weight: 600;
        }

        .cart-item-remove {
            color: #666;
            cursor: pointer;
            font-size: 1.4rem;
            position: absolute;
            top: 0;
            right: 0;
            line-height: 1;
            transition: color 0.2s;
        }

        .cart-item-remove:hover {
            color: #ff4444;
        }

        .cart-footer {
            padding: 1.5rem;
            border-top: 1px solid #333;
            background-color: #0a0a0a;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .checkout-btn {
            width: 100%;
            padding: 1rem;
            background-color: #D4AF37;
            color: #000;
            border: none;
            text-transform: uppercase;
            font-weight: bold;
            letter-spacing: 0.1em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .checkout-btn:hover {
            background-color: #fff;
        }

        /* Mobile Responsive Adjustments */
        @media (max-width: 768px) {
            header {
                padding: 1.5rem 2rem;
            }

            .hamburger {
                display: block;
            }

            .hamburger.active span:nth-child(1) {
                transform: rotate(-45deg) translate(-5px, 6px);
            }

            .hamburger.active span:nth-child(2) {
                opacity: 0;
            }

            .hamburger.active span:nth-child(3) {
                transform: rotate(45deg) translate(-5px, -6px);
            }

            nav {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100vh;
                background-color: #000000;
                display: flex;
                justify-content: center;
                align-items: center;
                transform: translateX(100%);
                transition: transform 0.5s ease-in-out;
                z-index: 101;
            }

            nav.active {
                transform: translateX(0);
            }

            nav ul {
                flex-direction: column;
                gap: 3rem;
                text-align: center;
            }

            nav a {
                font-size: 1.5rem;
            }

            /* Cart icon in mobile nav */
            .nav-cart-icon {
                position: absolute;
                bottom: 3rem;
                left: 50%;
                transform: translateX(-50%);
                color: var(--gold-primary);
                cursor: pointer;
                display: flex;
                align-items: center;
                gap: 0.5rem;
            }

            .nav-cart-icon svg {
                width: 28px;
                height: 28px;
            }

            .nav-cart-icon .cart-count {
                background: var(--gold-primary);
                color: #000;
                font-size: 0.75rem;
                font-weight: bold;
                width: 18px;
                height: 18px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            /* Hide fixed parallax images on mobile */
            #hero-image,
            #decants-image {
                display: none !important;
            }

            /* Hide desktop hero content on mobile */
            .desktop-hero-content {
                display: none !important;
            }

            /* ===== CUSTOM MOBILE HERO ===== */
            .mobile-hero-container {
                display: flex;
                flex-direction: column;
                align-items: center;
                width: 100%;
                padding: 0;
            }

            .mobile-hero-image-wrapper {
                position: relative;
                width: 100%;
                max-width: 100%;
                overflow: hidden;
                border-radius: 0;
            }

            .mobile-hero-img {
                width: 100%;
                height: auto;
                display: block;
                aspect-ratio: 1 / 1;
                object-fit: cover;
            }

            /* Text overlay at bottom of image */
            .mobile-hero-overlay {
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                padding: 3rem 1.5rem 4rem;
                background: linear-gradient(to top,
                        rgba(0, 0, 0, 0.85) 0%,
                        rgba(0, 0, 0, 0.6) 40%,
                        rgba(0, 0, 0, 0) 100%);
                text-align: center;
            }

            .mobile-hero-overlay h1 {
                font-size: 1.3rem;
                letter-spacing: 0.12em;
                line-height: 1.7;
                font-weight: 300;
                margin: 0;
                text-shadow: 0 2px 15px rgba(0, 0, 0, 0.8);
                opacity: 1;
                transform: none;
                animation: none;
            }

            /* Button - half in, half out */
            .mobile-hero-btn {
                position: relative;
                margin-top: -1.5rem;
                z-index: 10;
                padding: 1rem 2.5rem;
                font-size: 0.9rem;
                background-color: #000;
                border: 1.5px solid #D4AF37;
                color: #D4AF37;
                text-decoration: none;
                text-transform: uppercase;
                letter-spacing: 0.15em;
                transition: all 0.3s ease;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            }

            .mobile-hero-btn:active {
                background-color: #D4AF37;
                color: #000;
                transform: scale(0.97);
            }

            /* ===== HERO SECTION LAYOUT ===== */
            #section-1 {
                min-height: auto;
                height: auto;
                padding: 5rem 0 3rem;
                display: flex;
                flex-direction: column;
                justify-content: flex-start;
                align-items: center;
                background: none;
            }

            #section-1 .content-center {
                display: none;
            }

            /* Keep mobile-section-image for other sections (section-3) */
            .mobile-section-image {
                display: block;
                width: 85%;
                max-width: 320px;
                height: auto;
                margin: 0 auto 2rem;
                border-radius: 16px;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4),
                    0 0 40px rgba(212, 175, 55, 0.1);
            }

            @keyframes textReveal {
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            /* ===== OTHER SECTIONS ===== */
            section {
                height: auto;
                min-height: auto;
                padding: 3rem 1.5rem;
            }

            /* Hide desktop section-2 content on mobile */
            .desktop-section2-content {
                display: none !important;
            }

            /* ===== SECTION 2 MOBILE: 40% Image / 60% Text ===== */
            #section-2 {
                min-height: auto;
                padding: 2rem 0;
                background: linear-gradient(180deg, transparent 0%, rgba(212, 175, 55, 0.02) 50%, transparent 100%);
            }

            .mobile-section2-container {
                display: flex;
                flex-direction: row;
                align-items: center;
                width: 100%;
                padding: 0 1rem;
                gap: 1rem;
            }

            /* Image column - carousel container */
            .mobile-section2-image-col {
                width: 40%;
                flex-shrink: 0;
                position: relative;
                overflow: hidden;
            }

            .mobile-section2-text-col {
                width: 60%;
                text-align: left;
                padding-left: 0.5rem;
            }

            .mobile-section2-text-col h2 {
                font-size: 1.4rem;
                text-align: left;
                margin-bottom: 0.8rem;
            }

            .mobile-section2-text-col p {
                font-size: 0.9rem;
                text-align: left;
                line-height: 1.6;
                margin-bottom: 1rem;
                padding: 0;
            }

            .mobile-section2-text-col .btn {
                padding: 0.7rem 1.5rem;
                font-size: 0.75rem;
            }

            /* ===== FLYING PERFUME ANIMATION ===== */
            .flying-perfume-element {
                display: none;
                position: fixed;
                z-index: 50;
                pointer-events: none;
                opacity: 0;
            }

            .flying-perfume-element img {
                width: 100%;
                height: auto;
                border-radius: 12px;
                box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
            }

            /* ===== SECTION 2 CAROUSEL (inside 40% column) ===== */
            .section2-carousel {
                position: relative;
                width: 100%;
                overflow: hidden;
                opacity: 0;
                transition: opacity 0.2s ease-in-out;
            }

            .section2-carousel.ready {
                opacity: 1;
            }

            .section2-carousel-slide {
                display: none;
                width: 100%;
                position: relative;
            }

            .section2-carousel-slide.active {
                display: block;
                animation: slideInFromLeft 0.6s ease-out forwards;
            }

            .section2-carousel-slide img {
                width: 100%;
                height: auto;
                display: block;
            }

            /* Gradient overlay */
            .section2-carousel-slide::after {
                content: '';
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                height: 30%;
                background: linear-gradient(to top, rgba(0, 0, 0, 0.5) 0%, transparent 100%);
                pointer-events: none;
            }

            /* Carousel dots */
            .carousel-dots {
                display: flex;
                justify-content: center;
                gap: 6px;
                margin-top: 0.5rem;
            }

            .carousel-dot {
                width: 6px;
                height: 6px;
                border-radius: 50%;
                background: rgba(255, 255, 255, 0.3);
                cursor: pointer;
                transition: background 0.3s ease, transform 0.3s ease;
            }

            .carousel-dot.active {
                background: var(--gold-primary);
                transform: scale(1.3);
            }

            /* Left entry animation */
            @keyframes slideInFromLeft {
                from {
                    opacity: 0;
                    transform: translateX(-100%);
                }

                to {
                    opacity: 1;
                    transform: translateX(0);
                }
            }

            /* ===== SECTION 3 MOBILE LAYOUT ===== */
            #section-3 {
                min-height: auto;
                padding: 2rem 0;
                background: linear-gradient(180deg, transparent 0%, rgba(212, 175, 55, 0.02) 50%, transparent 100%);
            }

            /* Hide desktop content on mobile */
            .desktop-section3-content {
                display: none !important;
            }

            .mobile-section3-container {
                display: flex;
                flex-direction: row;
                align-items: center;
                width: 100%;
                padding: 0 1rem;
                gap: 1rem;
            }

            /* Text column - 60% */
            .mobile-section3-text-col {
                width: 60%;
                text-align: left;
                padding-right: 0.5rem;
            }

            .mobile-section3-text-col h2 {
                font-size: 1.3rem;
                text-align: left;
                margin-bottom: 0.8rem;
            }

            .mobile-section3-text-col p {
                font-size: 0.85rem;
                text-align: left;
                line-height: 1.5;
                margin-bottom: 1rem;
                padding: 0;
            }

            .mobile-section3-text-col .btn {
                padding: 0.6rem 1.2rem;
                font-size: 0.7rem;
            }

            /* Image column - 40% */
            .mobile-section3-image-col {
                width: 40%;
                flex-shrink: 0;
                position: relative;
                overflow: hidden;
            }

            .section3-animated-img {
                width: 100%;
                height: auto;
                border-radius: 8px;
                opacity: 0;
                transform: translateX(50px);
                transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            }

            .section3-animated-img.animate-in {
                opacity: 1;
                transform: translateX(0);
            }

            /* Fallback if JS doesn't work */
            .no-js .section3-animated-img {
                opacity: 1;
                transform: none;
            }

            /* ===== TYPOGRAPHY ===== */
            h1 {
                font-size: 1.5rem;
                letter-spacing: 0.12em;
                max-width: 100%;
                line-height: 1.7;
                font-weight: 300;
            }

            h2 {
                font-size: 1.8rem;
                text-align: center;
                letter-spacing: 0.1em;
                margin-bottom: 1.5rem;
            }

            p {
                font-size: 1rem;
                text-align: center;
                padding: 0 0.5rem;
                line-height: 1.8;
                color: #b0b0b0;
            }

            /* ===== LAYOUT ===== */
            .content-right,
            .content-left,
            .content-center {
                width: 100%;
                margin: 0;
                align-items: center;
                text-align: center;
                padding: 0 1rem;
                box-sizing: border-box;
            }

            #section-2,
            #section-3 {
                justify-content: center;
            }

            /* ===== BEST SELLERS ===== */
            .products-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }

            #best-sellers {
                padding: 4rem 1rem;
                min-height: auto;
                background: linear-gradient(180deg, rgba(212, 175, 55, 0.03) 0%, transparent 30%);
            }

            #best-sellers h2 {
                font-size: 1.8rem;
                margin-bottom: 2rem;
            }

            .product-card {
                padding: 0.8rem;
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }

            .product-card:active {
                transform: scale(0.98);
            }

            .product-title {
                font-size: 0.8rem;
            }

            .product-price {
                font-size: 0.95rem;
            }

            /* ===== BUTTONS ===== */
            .btn {
                padding: 1rem 2.5rem;
                font-size: 0.9rem;
                border-width: 1.5px;
                transition: all 0.3s ease;
            }

            .btn:active {
                transform: scale(0.97);
                background-color: rgba(212, 175, 55, 0.1);
            }

            .big-cta-btn {
                font-size: 1rem;
                padding: 1rem 2.5rem;
            }

            /* ===== SCROLL ANIMATIONS ===== */
            .mobile-fade-in {
                opacity: 0;
                transform: translateY(50px);
                transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1),
                    transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
            }

            .mobile-fade-in.visible {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
    <!-- EmailJS Script -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function () {
            emailjs.init("CqUzROM1kCqA67-aR");
            console.log("EmailJS initialized successfully");
        })();
    </script>
    <link rel="stylesheet" href="css/auth.css">
</head>

<body>

    <!-- Header -->
    <header>
        <img src="logo.png" alt="Perfumichi Logo" class="logo-img">
        <div class="hamburger" onclick="toggleMenu()">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <nav id="mobile-nav">
            <ul>
                <li><a href="#"
                        onclick="if(lenis){lenis.scrollTo(0)}else{window.scrollTo({top:0,behavior:'smooth'})}; return false;">Inicio</a>
                </li>
                <li><a href="catalogo.html">Cat√°logo</a></li>
                <li><a href="nicho.html">Luxury parfums</a></li>
                <li><a href="woman.html">Woman</a></li>
                <li><a href="politicas.html">Pol√≠ticas</a></li>
                <li><a href="#" id="accountNavLink" onclick="openLoginModal(); return false;">Cuenta</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hero Image (First Bottle) -->
    <img id="hero-image" src="perfume.png" alt="Luxury Perfume Bottle">

    <!-- Decants Image (Second Image) -->
    <img id="decants-image" src="decants.jpg" alt="Decants Collection">

    <section id="section-1">
        <!-- Desktop version -->
        <div class="content-center desktop-hero-content">
            <h1>El lujo de estrenar<br>una nueva esencia cada d√≠a.</h1>
            <a href="nicho.html" class="btn">Ver Colecci√≥n</a>
        </div>

        <!-- Mobile Hero Container -->
        <div class="mobile-hero-container">
            <div class="mobile-hero-image-wrapper">
                <img class="mobile-hero-img" src="hero-mobile.jpg" alt="Luxury Perfume Collection">
                <!-- Text overlay inside image -->
                <div class="mobile-hero-overlay">
                    <h1>El lujo de estrenar<br>una nueva esencia cada d√≠a.</h1>
                </div>
            </div>
            <!-- Button - half in, half out -->
            <a href="nicho.html" class="btn mobile-hero-btn">Ver Colecci√≥n</a>
        </div>
    </section>

    <section id="section-2">
        <!-- Desktop version -->
        <div class="content-right desktop-section2-content">
            <h2>El Arte de la Alta Perfumer√≠a</h2>
            <p>No necesitas la botella entera para vivir la experiencia completa. Ad√©ntrate en una selecci√≥n curada de
                las joyas olfativas m√°s exclusivas del mundo.</p>
            <a href="nicho.html" class="btn">Explorar Colecci√≥n</a>
        </div>

        <!-- Mobile version: 40% carousel + 60% text -->
        <div class="mobile-section2-container">
            <div class="mobile-section2-image-col">
                <!-- Carousel inside the 40% column -->
                <div class="section2-carousel" id="section2Carousel">
                    <div class="section2-carousel-slide active">
                        <img src="perfume-decant-mobile.png" alt="Perfume Decant">
                    </div>
                    <div class="section2-carousel-slide">
                        <img src="carousel-1.png" alt="Boadicea The Victorious">
                    </div>
                    <div class="section2-carousel-slide">
                        <img src="carousel-2.png" alt="Clive Christian">
                    </div>
                    <div class="section2-carousel-slide">
                        <img src="carousel-3.png" alt="Xerjoff Alexandria II">
                    </div>
                    <div class="section2-carousel-slide">
                        <img src="carousel-4.png" alt="Tom Ford Oud Wood">
                    </div>
                </div>
                <div class="carousel-dots">
                    <div class="carousel-dot active" data-slide="0"></div>
                    <div class="carousel-dot" data-slide="1"></div>
                    <div class="carousel-dot" data-slide="2"></div>
                    <div class="carousel-dot" data-slide="3"></div>
                    <div class="carousel-dot" data-slide="4"></div>
                </div>
            </div>
            <div class="mobile-section2-text-col">
                <h2>El Arte de la Alta Perfumer√≠a</h2>
                <p>No necesitas la botella entera para vivir la experiencia completa. Ad√©ntrate en una selecci√≥n curada
                    de las joyas olfativas m√°s exclusivas del mundo.</p>
                <a href="nicho.html" class="btn">Explorar Colecci√≥n</a>
            </div>
        </div>
    </section>

    <!-- Flying Perfume Element (for scroll animation) -->
    <div id="flying-perfume" class="flying-perfume-element">
        <img src="perfume-decant-mobile.png" alt="Flying Perfume">
    </div>

    <section id="section-3">
        <!-- Desktop version -->
        <div class="content-left desktop-section3-content">
            <h2>Luxury Decants</h2>
            <p>Descubre la libertad de portar las fragancias m√°s exclusivas del mundo en un formato dise√±ado para la
                excelencia. En Perfumichi nuestros Luxury Decants no son simples muestras; son c√°psulas de sofisticaci√≥n
                en negro mate que protegen la integridad de cada nota olfativa.</p>
            <a href="nicho.html" class="btn">Compra Ahora</a>
        </div>

        <!-- Mobile version: 60% text + 40% image -->
        <div class="mobile-section3-container">
            <div class="mobile-section3-text-col">
                <h2>Luxury Decants</h2>
                <p>Descubre la libertad de portar las fragancias m√°s exclusivas del mundo en un formato dise√±ado para la
                    excelencia. En Perfumichi nuestros Luxury Decants no son simples muestras; son c√°psulas de
                    sofisticaci√≥n
                    en negro mate que protegen la integridad de cada nota olfativa.</p>
                <a href="nicho.html" class="btn">Compra Ahora</a>
            </div>
            <div class="mobile-section3-image-col">
                <img id="section3-decants-img" src="luxury-decants.png" alt="Luxury Decants"
                    class="section3-animated-img">
            </div>
        </div>
    </section>

    <!-- Best Sellers Section -->
    <section id="best-sellers">
        <h2>Best Sellers</h2>
        <div class="products-grid">
            <!-- Product 1: Supercharged Blue Sapphire -->
            <a href="producto.html?id=blue-sapphire&name=BTV%20Blue%20Sapphire%20Supercharged&brand=Boadicea%20The%20Victorious&price3ml=48,99&price5ml=77,95&price10ml=149,90&img=fotos/boadicea-1.jpg&desc=C%C3%BAspide%20del%20lujo%20real%20con%20maderas%20preciosas%20y%20destellos%20c%C3%ADtricos.%20Versi%C3%B3n%20vibrante%20con%20vitalidad%20aldeh%C3%ADdica%20y%20estela%20kilom%C3%A9trica.&notasSalida=Naranja%2C%20Lim%C3%B3n%2C%20Aldeh%C3%ADdos&notasCorazon=Rosa%2C%20Cardamomo%2C%20Jasm%C3%ADn%2C%20Pimienta&notasFondo=Oud%20Camboyano%2C%20Ambar%2C%20Patchul%C3%AD"
                class="product-card" style="text-decoration: none;">
                <img src="fotos/boadicea-1.jpg" alt="Supercharged Blue Sapphire" class="product-image">
                <h3 class="product-title">BTV Blue Sapphire</h3>
                <p class="product-price">Desde 48,99‚Ç¨</p>
            </a>
            <!-- Product 2: The Moon - Frederic Malle -->
            <a href="producto.html?id=the-moon&name=The%20Moon&brand=Frederic%20Malle&price3ml=46,99&price5ml=74,95&price10ml=142,90&img=fotos/CATALOGO/catalogo%20continuacion/fotos%202%20catalogo/the%20moon%20frederic%20malle%20main.jpg&desc=Monumental%20sinfon%C3%ADa%20de%20rosa%2C%20oud%20y%20frambuesa%20inspirada%20en%20Oriente.%20Humo%20de%20shisha%20frutal%20y%20opulencia%20casi%20inigualable.&notasSalida=Frambuesa%2C%20Lichi%2C%20Azafr%C3%A1n&notasCorazon=Rosa%20turca%2C%20Olibano%2C%20Frutos%20rojos&notasFondo=Oud%2C%20Cuero%2C%20Ambar%2C%20S%C3%A1ndalo"
                class="product-card" style="text-decoration: none;">
                <img src="fotos/CATALOGO/catalogo%20continuacion/fotos%202%20catalogo/the%20moon%20frederic%20malle%20main.jpg"
                    alt="The Moon" class="product-image">
                <h3 class="product-title">The Moon</h3>
                <p class="product-price">Desde 46,99‚Ç¨</p>
            </a>
            <!-- Product 3: Dionisio - Tiziana Terenzi -->
            <a href="producto.html?id=dionisio&name=Dionisio&brand=Tiziana%20Terenzi&price3ml=24,99&price5ml=41,95&price10ml=79,90&img=fotos/tiziana-terenzi-dioniso-2022.png&desc=Extracto%20de%20perfume%20centrado%20en%20la%20vainilla%20m%C3%A1s%20lujosa%20y%20feromonas.%20Aroma%20narc%C3%B3tico%2C%20dulce%20y%20animal%20con%20una%20duraci%C3%B3n%20eterna.&notasSalida=%C3%81mbar%20gris%2C%20Almizcle%2C%20Feromonas&notasCorazon=Vainilla%20de%20Tahit%C3%AD%2C%20Jazm%C3%ADn&notasFondo=Vainilla%20de%20Madagascar%2C%20Oud%2C%20Almizcle"
                class="product-card" style="text-decoration: none;">
                <img src="fotos/tiziana-terenzi-dioniso-2022.png" alt="Dionisio" class="product-image">
                <h3 class="product-title">Dionisio</h3>
                <p class="product-price">Desde 24,99‚Ç¨</p>
            </a>
            <!-- Product 4: Jubilation 40 - Amouage -->
            <a href="producto.html?id=jubilation-40&name=Jubilation%2040&brand=Amouage&price3ml=19,99&price5ml=31,95&price10ml=61,90&img=fotos/CATALOGO/catalogo%20continuacion/Amouage%20Jubilation%2040.jpg&desc=Celebraci%C3%B3n%20fastuosa%20en%20extracto%20con%20mora%2C%20resinas%20y%20maderas%20ahumadas.%20Incienso%20y%20miel%20se%20vuelven%20casi%20s%C3%B3lidos%20en%20esta%20joya.&notasSalida=Mora%2C%20Grosella%20negra%2C%20L%C3%A1dano%2C%20Naranja&notasCorazon=Miel%2C%20Laurel%2C%20Canela%2C%20Clavo&notasFondo=Pachuli%2C%20Opop%C3%B3naco%2C%20Mirra%2C%20Oud%2C%20Musgo"
                class="product-card" style="text-decoration: none;">
                <img src="fotos/CATALOGO/catalogo%20continuacion/Amouage%20Jubilation%2040.jpg" alt="Jubilation 40"
                    class="product-image">
                <h3 class="product-title">Jubilation 40</h3>
                <p class="product-price">Desde 19,99‚Ç¨</p>
            </a>
        </div>
    </section>

    <section id="section-4">
        <div class="content-center">
            <h2>¬øListo para descubrir tu esencia?</h2>
            <br>
            <a href="catalogo.html" class="big-cta-btn">Ver Colecci√≥n Completa</a>
        </div>
    </section>

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <!-- Lenis for Smooth Scroll -->
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <script>
        // --- MOBILE DETECTION ---
        const isMobile = window.matchMedia("(max-width: 768px)").matches;

        // --- LENIS SMOOTH SCROLL SETUP (Desktop Only) ---
        let lenis = null;
        if (!isMobile) {
            lenis = new Lenis({
                duration: 2.5,
                easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
                smooth: true
            });

            function raf(time) {
                lenis.raf(time);
                requestAnimationFrame(raf);
            }

            requestAnimationFrame(raf);
        }

        // --- MOBILE MENU TOGGLE ---
        function toggleMenu() {
            const nav = document.getElementById('mobile-nav');
            const hamburger = document.querySelector('.hamburger');
            nav.classList.toggle('active');
            hamburger.classList.toggle('active');
        }

        // Close menu when a link is clicked
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', () => {
                const nav = document.getElementById('mobile-nav');
                const hamburger = document.querySelector('.hamburger');
                if (nav.classList.contains('active')) {
                    nav.classList.remove('active');
                    hamburger.classList.remove('active');
                }
            });
        });

        // --- GSAP ANIMATIONS ---
        gsap.registerPlugin(ScrollTrigger);

        // --- DESKTOP ANIMATIONS ---
        if (!isMobile) {
            const heroImage = document.getElementById('hero-image');
            const decantsImage = document.getElementById('decants-image');

            // Set initial state explicitly for cross-browser consistency
            gsap.set(heroImage, {
                xPercent: -50,
                yPercent: -50
            });

            gsap.set(decantsImage, {
                xPercent: 0,
                yPercent: -50
            });

            // Timeline
            const tl = gsap.timeline({
                scrollTrigger: {
                    trigger: "body",
                    start: "top top",
                    end: "bottom bottom",
                    scrub: 2
                }
            });

            // --- PHASE 1: Section 1 -> Section 2 ---
            tl.to(heroImage, {
                left: "30%",
                scale: 0.7,
                duration: 1,
                ease: "power1.inOut"
            }, "phase1");

            // --- PHASE 2: Section 2 -> Section 3 ---
            tl.to(heroImage, {
                left: "-50%",
                opacity: 0,
                duration: 1,
                ease: "power1.inOut"
            }, "phase2");

            tl.fromTo(decantsImage,
                { x: 100, opacity: 0 },
                {
                    x: 0,
                    opacity: 1,
                    duration: 1,
                    ease: "power1.inOut"
                },
                "phase2");

            // --- PHASE 3: Section 3 -> Section 4 ---
            tl.to(decantsImage, {
                opacity: 0,
                x: 100,
                duration: 1,
                ease: "power1.inOut"
            }, "phase3");

            // --- PIN SECTIONS (Desktop Only) ---
            ScrollTrigger.create({
                trigger: "#section-2",
                start: "top -25px",
                end: "+=200",
                pin: true,
                pinSpacing: true
            });

            ScrollTrigger.create({
                trigger: "#section-3",
                start: "top -25px",
                end: "+=200",
                pin: true,
                pinSpacing: true
            });

            ScrollTrigger.create({
                trigger: "#best-sellers",
                start: "top top",
                end: "+=300",
                pin: true,
                pinSpacing: true
            });
        }

        // --- MOBILE ANIMATIONS ---
        if (isMobile) {
            const flyingPerfume = document.getElementById('flying-perfume');
            const section2ImageCol = document.querySelector('.mobile-section2-image-col');
            const section2 = document.getElementById('section-2');

            // --- FLYING PERFUME ANIMATION ---
            if (flyingPerfume && section2 && section2ImageCol) {
                let animationComplete = false;

                // Hide element completely at start - keep behind everything
                flyingPerfume.style.display = 'none';
                flyingPerfume.style.opacity = '0';
                flyingPerfume.style.zIndex = '-1';

                // Create scroll-triggered animation
                ScrollTrigger.create({
                    trigger: ".mobile-hero-container",
                    start: "bottom 70%",
                    end: "bottom 20%",
                    scrub: 0.5,
                    once: true,
                    onEnter: () => {
                        // Show the flying element ONLY when scrolling past hero
                        flyingPerfume.style.display = 'block';
                        flyingPerfume.style.zIndex = '50';
                    },
                    onLeave: () => {
                        // Animation complete - stop following scroll
                        animationComplete = true;

                        // Get final position and fix the element there
                        const rect = section2ImageCol.getBoundingClientRect();
                        const scrollY = window.scrollY || window.pageYOffset;

                        // Convert to absolute position - match placeholder exactly
                        gsap.set(flyingPerfume, {
                            position: 'absolute',
                            top: (rect.top + scrollY) + 'px',
                            left: rect.left + 'px',
                            width: rect.width + 'px',
                            transform: 'none',
                            xPercent: 0,
                            yPercent: 0,
                            scale: 1,
                            opacity: 1
                        });

                        // After landing, hide flying element and start carousel immediately
                        flyingPerfume.style.display = 'none';
                        flyingPerfume.style.opacity = '0';
                        // Trigger carousel start event
                        window.dispatchEvent(new CustomEvent('startSection2Carousel'));
                    },
                    onUpdate: (self) => {
                        // Don't update if animation is complete
                        if (animationComplete) return;

                        const progress = self.progress;

                        // Get current placeholder position
                        const rect = section2ImageCol.getBoundingClientRect();
                        const viewportHeight = window.innerHeight;
                        const viewportWidth = window.innerWidth;

                        // Start position: center of viewport
                        const startTop = viewportHeight * 0.35;
                        const startLeft = viewportWidth * 0.5;
                        const startWidth = viewportWidth * 0.25;

                        // End position: exactly at placeholder
                        const endTop = rect.top;
                        const endLeft = rect.left;
                        const endWidth = rect.width;

                        // Interpolate
                        const currentTop = startTop + (endTop - startTop) * progress;
                        const currentLeft = startLeft + (endLeft - startLeft) * progress;
                        const currentWidth = startWidth + (endWidth - startWidth) * progress;

                        // Fade in quickly after scroll starts
                        const currentOpacity = progress > 0.05 ? Math.min(1, (progress - 0.05) * 5) : 0;

                        gsap.set(flyingPerfume, {
                            position: 'fixed',
                            top: currentTop + 'px',
                            left: currentLeft + 'px',
                            width: currentWidth + 'px',
                            transform: progress < 1 ? `translateX(-${50 * (1 - progress)}%)` : 'none',
                            opacity: currentOpacity
                        });
                    }
                });
            }

            // Fade-in animations using IntersectionObserver
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.15
            };

            const fadeInObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, observerOptions);

            // Observe text columns and other content
            document.querySelectorAll('.mobile-section2-text-col, .content-left, .products-grid').forEach(el => {
                el.classList.add('mobile-fade-in');
                fadeInObserver.observe(el);
            });

            // Also animate product cards with stagger effect
            document.querySelectorAll('.product-card').forEach((card, index) => {
                card.style.transitionDelay = `${index * 0.1}s`;
                card.classList.add('mobile-fade-in');
                fadeInObserver.observe(card);
            });

            // ===== SECTION 3 IMAGE ANIMATION =====
            const section3Img = document.getElementById('section3-decants-img');
            if (section3Img) {
                const section3Observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('animate-in');
                            section3Observer.unobserve(entry.target); // Only animate once
                        }
                    });
                }, { threshold: 0.3 });
                section3Observer.observe(section3Img);
            }

            // ===== SECTION 2 CAROUSEL =====
            const carousel = document.getElementById('section2Carousel');
            const slides = document.querySelectorAll('.section2-carousel-slide');
            const dots = document.querySelectorAll('.carousel-dot');
            let currentSlide = 0;
            let carouselInterval;
            let carouselStarted = false;

            function goToSlide(index) {
                // Remove active from all
                slides.forEach(slide => slide.classList.remove('active'));
                dots.forEach(dot => dot.classList.remove('active'));

                // Update current slide
                currentSlide = index;

                // Reset animation by removing and re-adding
                slides[currentSlide].style.animation = 'none';
                slides[currentSlide].offsetHeight; // Trigger reflow
                slides[currentSlide].style.animation = 'slideInFromLeft 0.6s ease-out forwards';

                // Add active class
                slides[currentSlide].classList.add('active');
                dots[currentSlide].classList.add('active');
            }

            function nextSlide() {
                const next = (currentSlide + 1) % slides.length;
                goToSlide(next);
            }

            // Start auto-sliding
            function startCarousel() {
                if (!carouselStarted && slides.length > 0) {
                    carouselStarted = true;
                    carouselInterval = setInterval(nextSlide, 5000);
                }
            }

            // Stop carousel (when scrolling back)
            function stopCarousel() {
                clearInterval(carouselInterval);
                carouselStarted = false;
            }

            // Dot click events
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    clearInterval(carouselInterval);
                    goToSlide(index);
                    if (carouselStarted) {
                        carouselInterval = setInterval(nextSlide, 5000);
                    }
                });
            });

            // Listen for flying animation completion to start carousel
            window.addEventListener('startSection2Carousel', () => {
                // Fade in the carousel showing first slide
                if (carousel) carousel.classList.add('ready');
                // Wait 1 second before starting rotation (pause to show landed image)
                setTimeout(() => {
                    goToSlide(1); // Go to second slide
                    startCarousel(); // Start auto-rotation
                }, 1000);
            });

            // Listen for scroll back to stop carousel and reset to first slide
            window.addEventListener('stopSection2Carousel', () => {
                stopCarousel();
                // Hide carousel with fade out
                if (carousel) carousel.classList.remove('ready');
                // Reset to first slide (hiding all others)
                currentSlide = 0;
                slides.forEach((slide, i) => {
                    slide.classList.remove('active');
                    if (i === 0) slide.classList.add('active');
                });
                dots.forEach((dot, i) => {
                    dot.classList.remove('active');
                    if (i === 0) dot.classList.add('active');
                });
            });

            // Also start carousel if NOT on mobile (desktop doesn't have flying animation)
            if (!isMobile && slides.length > 0) {
                if (carousel) carousel.classList.add('ready');
                startCarousel();
            }
        }

        // ===== LOGIN MODAL FUNCTIONS (GLOBAL) =====
        window.openLoginModal = function () {
            const modal = document.getElementById('loginModal');
            if (modal) {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
            // Close mobile nav if open
            const nav = document.getElementById('mobile-nav');
            const hamburger = document.querySelector('.hamburger');
            if (nav && nav.classList.contains('active')) {
                nav.classList.remove('active');
                hamburger.classList.remove('active');
            }
        };

        window.closeLoginModal = function () {
            const modal = document.getElementById('loginModal');
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = '';
            }
        };

        window.toggleFormMode = function () {
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            const modalTitle = document.getElementById('modalTitle');
            if (loginForm.style.display === 'none') {
                loginForm.style.display = 'block';
                registerForm.style.display = 'none';
                modalTitle.textContent = 'Iniciar Sesi√≥n';
            } else {
                loginForm.style.display = 'none';
                registerForm.style.display = 'block';
                modalTitle.textContent = 'Crear Cuenta';
            }
        };

        // Close modal when clicking outside
        document.addEventListener('click', function (e) {
            const modal = document.getElementById('loginModal');
            if (e.target === modal) {
                window.closeLoginModal();
            }
        });

        // ===== CART FUNCTIONS (GLOBAL) =====
        window.openCart = function () {
            const cartSidebar = document.getElementById('cartSidebar');
            const cartOverlay = document.getElementById('cartOverlay');
            if (cartSidebar) cartSidebar.classList.add('active');
            if (cartOverlay) cartOverlay.classList.add('active');
            // Close mobile nav if open
            const nav = document.getElementById('mobile-nav');
            const hamburger = document.querySelector('.hamburger');
            if (nav && nav.classList.contains('active')) {
                nav.classList.remove('active');
                hamburger.classList.remove('active');
            }
        };

        window.closeCart = function () {
            const cartSidebar = document.getElementById('cartSidebar');
            const cartOverlay = document.getElementById('cartOverlay');
            if (cartSidebar) cartSidebar.classList.remove('active');
            if (cartOverlay) cartOverlay.classList.remove('active');
        };

        window.checkout = function () {
            alert('Redirigiendo al checkout...');
            // Add checkout logic here
        };

    </script>
    <!-- Login Modal -->
    <div class="modal-overlay" id="loginModal">
        <div class="login-modal">
            <span class="modal-close" onclick="closeLoginModal()">&times;</span>
            <h2 class="modal-title" id="modalTitle">Iniciar Sesi√≥n</h2>

            <!-- Login Form -->
            <form id="loginForm" onsubmit="handleBubbleLogin(event)">
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" id="modal-email" class="form-input" placeholder="tu@email.com" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Contrase√±a</label>
                    <input type="password" id="modal-password" class="form-input" placeholder="********" required>
                </div>
                <button type="submit" class="submit-btn">Entrar</button>
                <div class="switch-form">
                    ¬øNo tienes cuenta? <span class="switch-link" onclick="toggleFormMode()">Reg√≠strate</span>
                </div>
            </form>

            <!-- Register Form -->
            <form id="registerForm" style="display: none;" onsubmit="handleBubbleRegister(event)">
                <div class="form-group">
                    <label class="form-label">Nombre Completo</label>
                    <input type="text" id="modal-reg-name" class="form-input" placeholder="Tu Nombre" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" id="modal-reg-email" class="form-input" placeholder="tu@email.com" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Contrase√±a</label>
                    <input type="password" id="modal-reg-password" class="form-input" placeholder="********" required>
                </div>
                <button type="submit" class="submit-btn">Crear Cuenta</button>
                <div class="switch-form">
                    ¬øYa tienes cuenta? <span class="switch-link" onclick="toggleFormMode()">Inicia Sesi√≥n</span>
                </div>
            </form>

            <!-- TEMP TEST BUTTON REMOVED -->
        </div>
    </div>

    <!-- Cart Overlay -->
    <div class="cart-overlay-bg" id="cartOverlay" onclick="closeCart()"></div>

    <!-- Cart Drawer -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h2>Tu Cesta</h2>
            <span class="close-cart" onclick="closeCart()">&times;</span>
        </div>
        <div class="cart-items" id="cartItems">
            <p class="empty-cart-msg">Tu cesta est√° vac√≠a.</p>
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cartTotal">0.00‚Ç¨</span>
            </div>
            <button class="checkout-btn" onclick="checkout()">Tramitar Pedido</button>
        </div>
    </div>

    <!-- Login Bubble (Hidden by default) -->
    <div id="login-bubble" class="login-bubble hidden">
        <h3 id="bubble-title">Iniciar Sesi√≥n</h3>

        <!-- Bubble Login Form -->
        <form id="bubble-login-form" onsubmit="handleBubbleLogin(event)">
            <input type="email" id="bubble-email" placeholder="Email" required>
            <input type="password" id="bubble-password" placeholder="Contrase√±a" required>
            <button type="submit">Entrar</button>
        </form>

        <!-- Bubble Register Form -->
        <form id="bubble-register-form" class="hidden" onsubmit="handleBubbleRegister(event)">
            <input type="text" id="bubble-reg-name" placeholder="Nombre" required>
            <input type="email" id="bubble-reg-email" placeholder="Email" required>
            <input type="password" id="bubble-reg-password" placeholder="Contrase√±a" required>
            <button type="submit">Registrarse</button>
        </form>

        <div class="bubble-divider">o contin√∫a con</div>
        <button class="google-btn" onclick="handleBubbleGoogleLogin()">
            <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google">
            Google
        </button>

        <p class="bubble-switch">
            <span id="bubble-switch-msg">¬øNo tienes cuenta?</span>
            <a href="#" id="bubble-switch-action" onclick="toggleBubbleForm()">Reg√≠strate</a>
        </p>
    </div>

    <script type="module" src="js/auth.js"></script>

    <!-- Image Loading Optimization -->
    <script>
        // Header hide on scroll down, show on scroll up
        (function () {
            const header = document.querySelector('header');
            let lastScrollY = window.scrollY;
            let ticking = false;

            function updateHeader() {
                const currentScrollY = window.scrollY;

                if (currentScrollY > lastScrollY && currentScrollY > 100) {
                    // Scrolling down & past 100px - hide header
                    header.classList.add('header-hidden');
                } else {
                    // Scrolling up - show header
                    header.classList.remove('header-hidden');
                }

                lastScrollY = currentScrollY;
                ticking = false;
            }

            window.addEventListener('scroll', function () {
                if (!ticking) {
                    requestAnimationFrame(updateHeader);
                    ticking = true;
                }
            });
        })();

        // Smooth image loading with fade-in effect
        document.addEventListener('DOMContentLoaded', function () {
            // Handle lazy loaded images
            const lazyImages = document.querySelectorAll('img[loading="lazy"]');

            lazyImages.forEach(img => {
                if (img.complete) {
                    img.classList.add('loaded');
                } else {
                    img.addEventListener('load', function () {
                        this.classList.add('loaded');
                    });
                }
            });

            // Handle all other images
            const allImages = document.querySelectorAll('img:not([loading="lazy"])');
            allImages.forEach(img => {
                if (img.complete) {
                    img.classList.add('loaded');
                } else {
                    img.addEventListener('load', function () {
                        this.classList.add('loaded');
                    });
                }
            });
        });

        // Intersection Observer for lazy loading enhancement
        if ('IntersectionObserver' in window) {
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        if (img.dataset.src) {
                            img.src = img.dataset.src;
                            img.removeAttribute('data-src');
                        }
                        img.classList.add('loaded');
                        observer.unobserve(img);
                    }
                });
            }, {
                rootMargin: '50px 0px',
                threshold: 0.01
            });

            document.querySelectorAll('img[data-src]').forEach(img => {
                imageObserver.observe(img);
            });
        }
    </script>
</body>

</html>